<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-tr="FinceLearn - Fince Öğren" data-en="FinceLearn - Learn Finnish">FinceLearn - Fince Öğren</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#006064">
  <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 data-tr="FinceLearn" data-en="FinceLearn">FinceLearn</h1>
      <p class="description" data-tr="Fince kısa hikâyeler okuyarak kelime öğren!" data-en="Learn Finnish words by reading short stories!">
        Fince kısa hikâyeler okuyarak kelime öğren!
      </p>

      <div class="language-switcher">
        <button class="lang-btn active" data-lang="tr">Türkçe</button>
        <button class="lang-btn" data-lang="en">English</button>
      </div>
      <div id="auth-area" style="margin-top: 20px; text-align: center;">
  <button id="login-btn">Giriş Yap (Google ile)</button>
  <div id="user-info" class="hidden" style="margin-top: 10px;">
    <span id="user-email"></span>
    <button id="logout-btn" style="margin-left: 10px;">Çıkış Yap</button>
  </div>
  <button id="premium-btn" style="margin-top: 10px; background: #ff9800; color: white;">Premium Ol (Aylık 49 TL)</button>
</div>
    </div>

    <div class="controls">
      <input type="text" id="konu" 
             data-placeholder-tr="Hikâye konusu (isteğe bağlı, Türkçe veya Fince)" 
             data-placeholder-en="Story topic (optional, in Turkish or Finnish)" 
             placeholder="Hikâye konusu (isteğe bağlı, Türkçe veya Fince)" />
      <button id="uret-hikaye" data-tr="Yeni Fince Hikâye Üret" data-en="Generate New Finnish Story">
        Yeni Fince Hikâye Üret
      </button>
    </div>

    <div class="tabs">
      <button id="tab-hikaye" class="tab-btn active" data-tr="Hikaye" data-en="Story">Hikaye</button>
      <button id="tab-defter" class="tab-btn" data-tr="Kelime Defterim" data-en="My Word Notebook">
        Kelime Defterim (<span id="defter-sayi">0</span>)
      </button>
    </div>

    <div id="defter-alani" class="hidden">
      <h2 data-tr="Kelime Defterim" data-en="My Word Notebook">Kelime Defterim</h2>
      <ul id="kelime-listesi"></ul>
      <button id="defter-temizle" data-tr="Defteri Temizle" data-en="Clear Notebook" style="margin-top: 20px; background: #d32f2f; color: white; border: none; padding: 10px 20px; border-radius: 8px;">
        Defteri Temizle
      </button>
    </div>
    
    <div id="hikaye-alani" class="hikaye"></div>

    <div id="ceviri-popup" class="popup hidden">
      <span id="ceviri-icerik" data-tr="Çeviriliyor..." data-en="Translating...">Çeviriliyor...</span>
      <button id="kapat-popup">✕</button>
    </div>
  </div>

  <div class="overlay hidden"></div>

  <script src="https://js.stripe.com/v3/"></script>
<script>
  const stripe = Stripe('pk_test_51RPSymGBPXxMTpubh4D982BiRPiBOXBxOGBLoBiSeWhrkAv2Ou9a2HAmkchbKktJXkpWYtcL307gdgT4PXWxRAc500tdraauMa'); // pk_test_... ile değiştir
</script>
  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(reg => console.log('Service Worker registered', reg))
          .catch(err => console.log('Service Worker error', err));
      });
    }
  </script>

  <script type="module" src="/js/main.js"></script>
</body>
</html>